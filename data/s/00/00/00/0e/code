#include <stdio.h>
#include <string.h>

int ti, tc, i, j, n;

struct problem {
	char name[32];
	int dif, rel, rank;
} probs[1000];

int picked[10];

int main(int argc, char const* argv[])
{
	scanf("%d", &tc);
	for (ti = 0; ti < tc; ti++) {
		memset(picked, -1, sizeof(picked));
		scanf("%d", &n);

		for (i = 0; i < n; i++) {
			scanf("%s %d %d", probs[i].name, &probs[i].dif, &probs[i].rel);
			probs[i].rank = 1000 * ((3 - (probs[i].dif >> 2)) % 3) + probs[i].rel;
			for (j = 0; j < 10; j++) {
				if (picked[j] == -1 || probs[i].rank > probs[picked[j]].rank) {
					memmove(&picked[j + 1], &picked[j], sizeof(picked[0]) * (9 - j));
					picked[j] = i;
					break;
				}
			}
		}

		if (ti) puts("");
		for (j = 0; j < 10; j++) puts(probs[picked[j]].name);
	}
	return 0;
}
